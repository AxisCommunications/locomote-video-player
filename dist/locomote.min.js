!function(t,e){"use strict";"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Locomote=e()}(this,function(){"use strict";function t(e,n){return e?(window.LocomoteMap||(window.LocomoteMap={}),window.LocomoteMap[e]?window.LocomoteMap[e]:void 0===this?(window.LocomoteMap[e]=new t(e,n),window.LocomoteMap[e]):(window.LocomoteMap[e]=this,this.callbacks=[],this.swfready=!1,this.__embed(e,n),this)):null}return t.prototype={__embed:function(t,e){var n=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(),i=n(),o='<object type="application/x-shockwave-flash" class="locomote-player" data="'+e+'" id="'+i+'" name="'+t+'" width="100%" height="100%" allowFullScreen="true">',a={width:"100%",height:"100%",allowscriptaccess:"always",wmode:"transparent",quality:"high",flashvars:"locomoteID="+t,allowFullScreenInteractive:!0,movie:e,name:t};for(var s in a)a.hasOwnProperty(s)&&(o+='<param name="'+s+'" value="'+a[s]+'"/>');if(o+="</object>","string"==typeof t&&document.getElementById(t))document.getElementById(t).innerHTML=o,this.e=document.getElementById(i);else{t.innerHTML=o;for(var r=t.getElementsByClassName("locomote-player"),u=0;u<r.length;u++)if(r[u].getAttribute("id")===i){this.e=r[u];break}}},__swfReady:function(){this.swfready=!0,this.__playerEvent("apiReady")},play:function(t){return this.e.play(t),this},stop:function(){return this.e.stop(),this},seek:function(t){return this.e.seek(t),this},pause:function(){return this.e.pause(),this},resume:function(){return this.e.resume(),this},streamStatus:function(){return this.e.streamStatus()},playerStatus:function(){return this.e.playerStatus()},speakerVolume:function(t){return this.e.speakerVolume(t),this},muteSpeaker:function(){return this.e.muteSpeaker(),this},unmuteSpeaker:function(){return this.e.unmuteSpeaker(),this},microphoneVolume:function(t){return this.e.microphoneVolume(t),this},muteMicrophone:function(){return this.e.muteMicrophone(),this},unmuteMicrophone:function(){return this.e.unmuteMicrophone(),this},startAudioTransmit:function(t,e){return this.e.startAudioTransmit(t,e||"axis"),this},stopAudioTransmit:function(){return this.e.stopAudioTransmit(),this},config:function(t){this.e.setConfig(t)},on:function(t,e){this.callbacks.push({eventName:t,callback:e}),"apiReady"===t&&this.swfready&&e.call()},off:function(t,e){return t||e?void this.callbacks.forEach(function(n,i,o){return n.callback!==e||t&&n.eventName!==t?void(n.eventName===t&&(e&&n.callback!==e||o.splice(i,1))):void o.splice(i,1)}):void(this.callbacks=[])},__playerEvent:function(t){var e=[];e.push.apply(e,arguments),e.shift(),this.callbacks.forEach(function(n){n.eventName===t&&n.callback&&n.callback.apply(null,e)})}},t});